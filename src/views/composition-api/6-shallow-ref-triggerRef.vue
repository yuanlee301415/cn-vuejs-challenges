<script setup lang="ts">
import {shallowRef, watch, triggerRef} from "vue"

const state = shallowRef({count: 1})

// å›è°ƒæ²¡è¢«è§¦å‘
watch(state, () => {
  console.log("State.count Updated")
}, {deep: true})

/**
 * ä¿®æ”¹ä»¥ä¸‹ä»£ç ä½¿watchå›è°ƒè¢«è§¦å‘
 *
 */
state.value.count = 2
triggerRef(state)

</script>

<template>
  <h2>
    æµ…å±‚ ref ç®€å• #Composition API #Reactivity:Advanced
    <hr>
    åœ¨è¿™ä¸ªæŒ‘æˆ˜ä¸­ï¼Œä½ å°†ä½¿ç”¨ å“åº”å¼ API: shallowRef æ¥å®Œæˆå®ƒã€‚ ä»¥ä¸‹æ˜¯ä½ è¦å®ç°çš„å†…å®¹ ğŸ‘‡:
    <hr>
  </h2>
  <h1>triggerRef</h1>
  <div>
    <p>
      {{ state.count }}
    </p>
  </div>
</template>
